var TransitionableReactRouter=function(t,e){"use strict";var n="default"in e?e.default:e;function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(n,!0).forEach(function(e){o(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,o=!1,u=void 0;try{for(var c,a=t[Symbol.iterator]();!(r=(c=a.next()).done)&&(n.push(c.value),!e||n.length!==e);r=!0);}catch(t){o=!0,u=t}finally{try{r||null==a.return||a.return()}finally{if(o)throw u}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function i(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var f=e.createContext();var l=["entering","entered","exiting","exited"],p=[1,1,3,3];function s(t,e){var n=!0,u=!1,i=void 0;try{for(var f,l=function(){var t=a(f.value,3),n=t[0],r=t[1],u=t[2];n.lastIndex=0;var i=n.exec(e);return i?{v:{component:u,query:r.reduce(function(t,e,n){return e?c({},t,o({},e,i[n+1])):t},{})}}:"continue"},p=t[Symbol.iterator]();!(n=(f=p.next()).done);n=!0){var s=l();switch(s){case"continue":continue;default:if("object"===r(s))return s.v}}}catch(t){u=!0,i=t}finally{try{n||null==p.return||p.return()}finally{if(u)throw i}}return{component:null,attributes:null}}function y(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace("//","/")}return t.Router=function(t){var r=t.children,o=a(e.useState({currentRoute:window.location.pathname,previousRoute:""}),2),u=o[0],i=o[1];return e.useEffect(function(){function t(){i({currentRoute:"/".concat(window.location.pathname).replace("//","/"),previousRoute:u.currentRoute})}return window.addEventListener("popstate",t),function(){window.removeEventListener("popstate",t)}},[]),n.createElement(f.Provider,{value:c({setRoute:function(t){window.history.pushState({},null,t),i({currentRoute:window.location.pathname,previousRoute:u.currentRoute})}},u)},r)},t.RouterContext=f,t.TransitionableReactRoute=function t(r){var o=r.path,u=r.timeout,v=void 0===u?1e3:u,m=r.animateOnMount,h=r.children,d=Date.now(),b=e.useRef([]),w=e.useRef([]),g=e.useContext(f).currentRoute,R="".concat(g,"_").concat(d),O=a(e.useState([]),2),E=O[0],S=O[1];return b.current.length||n.Children.forEach(h,function(e){var r=e.props,u=r.path,i=r.defaultPath,f=e.type===t,l=c({},e.props,{fullPath:i?"defaultPath":y("".concat(o||"","/").concat(u)),timeout:v});f&&(l.animateOnMount=m);var p=n.cloneElement(e,l);i?b.current.push([/.*/gi,[!1],p]):b.current.push(function(t){var e=a(t,3),n=e[0],r=e[1],o=e[2],u=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=a(y(o?"".concat(o,"/").concat(r):r).split("/").filter(function(t){return!!t}).reduce(function(t,e,n){var r=t[1];return 0===e.indexOf(":")?(r.push(e.substring(1)),["".concat(t[0],"\\/?([^\\/]+)?"),r]):(r.push(!1),n>0?["".concat(t[0],"\\/(").concat(e,")"),r]:["".concat(t[0],"(").concat(e,")"),r])},["^\\/",[]]),2),i=c[0],f=c[1],l=i;return u?l="".concat(i,".*"):"/"===r&&(l="".concat(i,"\\/")),[new RegExp("".concat(l,"$"),"ig"),f,n]}([p,u,o],f))}),e.useEffect(function(){return function(){w.current.forEach(clearTimeout),w.current=[]}},[]),e.useEffect(function(){S(function(e){var n=i(e),r=Date.now(),o=(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t[t.length-1]}(n)||{}).currentRoute,u=s(b.current,g),a=s(b.current,o),f=u.component&&u.component.type===t;return a.component&&a.component.type===t&&f||n.push({state:m?0:1,key:R,timestamp:r,currentRoute:g}),n.length>1&&(n[n.length-2]=c({},n[n.length-2],{now:r,state:2})),w.current.push(setTimeout(function(){S(function(t){var e=!1,n=Date.now(),r=i(t);for(var o in r){var u=p[r[o].state];n-r[o].timestamp>=v&&u!==r[o].state&&(e=!0,r[o]=c({},r[o],{state:u}))}return e?r.filter(function(t){return t.state<3}):t})},v)),n})},[g]),function(t,n){var r=a(e.useState([]),2),o=r[0],u=r[1];return e.useEffect(function(){u(function(e){return t(e)})},n),o}(function(){return E.map(function(t){var e=t.currentRoute,r=t.key,o=t.state,u=s(b.current,e);return u.component?n.createElement(u.component.type,c({key:r},u.component.props,{query:u.query,transitionState:l[o]})):null})},[E])},t}({},React);